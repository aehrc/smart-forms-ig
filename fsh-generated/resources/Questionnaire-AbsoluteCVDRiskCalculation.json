{
  "resourceType": "Questionnaire",
  "id": "AbsoluteCVDRiskCalculation",
  "meta": {
    "profile": [
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-render",
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-modular",
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-pop-exp"
    ]
  },
  "url": "http://www.health.gov.au/assessments/mbs/715/AbsoluteCVDRiskCalculation",
  "title": "Aboriginal and Torres Strait Islander Health Check - Absolute Cardiovascular Disease Risk Calculation",
  "description": "Absolute Cardiovascular Disease Risk Calculation sub-questionnaire for Aboriginal and Torres Strait Islander Health Check.",
  "item": [
    {
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "%age >= 25"
          }
        }
      ],
      "item": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "code": "context-display",
                    "system": "https://smartforms.csiro.au/ig/CodeSystem/QuestionnaireItemControlExtended"
                  }
                ]
              }
            }
          ],
          "linkId": "CD-in-progress-2",
          "text": "In progress",
          "_text": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
                "valueString": "<div title=\"In progress\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<div style=\"display: flex; flex-direction: row;\">\r\n\t\t<img width='24' height='24' src='data:image/svg+xml;base64,\r\n\t\tPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiM3NTc1NzUiIGQ9Im0xNS44NCAxMC4ybC0xLjAxIDEuMDFsLTIuMDctMi4wM2wxLjAxLTEuMDJjLjItLjIxLjU0LS4yMi43OCAwbDEuMjkgMS4yNWMuMjEuMjEuMjIuNTUgMCAuNzlNOCAxMy45MWw0LjE3LTQuMTlsMi4wNyAyLjA4bC00LjE2IDQuMkg4di0yLjA5TTEzIDJ2MmM0LjM5LjU0IDcuNSA0LjUzIDYuOTYgOC45MkE4LjAxNCA4LjAxNCAwIDAgMSAxMyAxOS44OHYyYzUuNS0uNiA5LjQ1LTUuNTQgOC44NS0xMS4wM0MyMS4zMyA2LjE5IDE3LjY2IDIuNSAxMyAybS0yIDBjLTEuOTYuMTgtMy44MS45NS01LjMzIDIuMkw3LjEgNS43NGMxLjEyLS45IDIuNDctMS40OCAzLjktMS42OHYtMk00LjI2IDUuNjdBOS44MSA5LjgxIDAgMCAwIDIuMDUgMTFoMmMuMTktMS40Mi43NS0yLjc3IDEuNjQtMy45TDQuMjYgNS42N00yLjA2IDEzYy4yIDEuOTYuOTcgMy44MSAyLjIxIDUuMzNsMS40Mi0xLjQzQTguMDAyIDguMDAyIDAgMCAxIDQuMDYgMTNoLTJtNSA1LjM3bC0xLjM5IDEuMzdBOS45OTQgOS45OTQgMCAwIDAgMTEgMjJ2LTJhOC4wMDIgOC4wMDIgMCAwIDEtMy45LTEuNjNoLS4wNFoiLz48L3N2Zz4=' \r\n\t\tstyle=\"align-self: center;\"/>\r\n\t</div>\r\n</div>"
              }
            ]
          },
          "type": "display",
          "enableWhen": [
            {
              "question": "MarkComplete-2",
              "operator": "=",
              "answerBoolean": false
            }
          ]
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "code": "context-display",
                    "system": "https://smartforms.csiro.au/ig/CodeSystem/QuestionnaireItemControlExtended"
                  }
                ]
              }
            }
          ],
          "linkId": "CD-complete-2",
          "text": "Complete",
          "_text": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
                "valueString": "<div title=\"Section completed\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\t<div style=\"display: flex; flex-direction: row;\">\r\n\t\t<img width='24' height='24' src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiMyZTdkMzIiIGQ9Ik0yMCAxMmE4IDggMCAwIDEtOCA4YTggOCAwIDAgMS04LThhOCA4IDAgMCAxIDgtOGMuNzYgMCAxLjUuMTEgMi4yLjMxbDEuNTctMS41N0E5LjgyMiA5LjgyMiAwIDAgMCAxMiAyQTEwIDEwIDAgMCAwIDIgMTJhMTAgMTAgMCAwIDAgMTAgMTBhMTAgMTAgMCAwIDAgMTAtMTBNNy45MSAxMC4wOEw2LjUgMTEuNUwxMSAxNkwyMSA2bC0xLjQxLTEuNDJMMTEgMTMuMTdsLTMuMDktMy4wOVoiLz48L3N2Zz4='\r\n\t\tstyle=\"align-self: center;\"/>\r\n\t</div>\r\n</div>\r\n"
              }
            ]
          },
          "type": "display",
          "enableWhen": [
            {
              "question": "MarkComplete-2",
              "operator": "=",
              "answerBoolean": true
            }
          ]
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
              "valueString": "<div xmlns=\"http://www.w3.org/1999/xhtml\">\r\n    <strong>Important:</strong> <em>The patient record will not be updated with information entered here. Information intended for the patient record should be entered there first.</em>\r\n    </div>"
            }
          ],
          "linkId": "RecordUpdate-CVDRisk",
          "text": "Important: The patient record will not be updated with information entered here. Information intended for the patient record should be entered there first.",
          "type": "display"
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
              "valueString": "<div xmlns=\"http://www.w3.org/1999/xhtml\">\r\n        <p style=\"font-size:1.3em\"><a href=\"https://www.cvdcheck.org.au/calculator\" target=\"_blank\">Australian CVD risk calculator</a></p>\r\n        <p>The Australian guideline for assessing and managing cardiovascular disease risk recommends the use of the online Australian CVD risk calculator and can be accessed via the link above. The items included in this section are a subset of variables that can be used as inputs for the online calculator. The final CVD risk result can be entered in the item at the bottom of this section.\r\n        </p></div>"
            }
          ],
          "linkId": "Guidance-CVDRisk",
          "text": "Australian CVD risk calculator - https://www.cvdcheck.org.au/calculator",
          "type": "display"
        },
        {
          "item": [
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                  "valueExpression": {
                    "description": "CVD Risk Age",
                    "language": "text/fhirpath",
                    "expression": "%age"
                  }
                },
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                  "valueCoding": {
                    "code": "a",
                    "system": "http://unitsofmeasure.org"
                  }
                }
              ],
              "item": [
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "unit",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    }
                  ],
                  "linkId": "b9aba16c-f910-4948-9267-e07851f69572",
                  "text": "years",
                  "type": "display"
                }
              ],
              "linkId": "6909cb38-a6f4-44c9-abae-0e5d697a21f5",
              "text": "Age",
              "type": "integer"
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                  "valueExpression": {
                    "description": "CVD Risk Sex At Birth",
                    "language": "text/fhirpath",
                    "expression": "%sex"
                  }
                }
              ],
              "linkId": "3dbb0e63-3b28-4567-8ef3-bac242fd95f6",
              "text": "Sex at birth",
              "type": "choice",
              "repeats": false,
              "answerValueSet": "https://healthterminologies.gov.au/fhir/ValueSet/biological-sex-1"
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                  "valueExpression": {
                    "description": "CVD Risk Smoking Status",
                    "language": "text/fhirpath",
                    "expression": "%smoker"
                  }
                }
              ],
              "linkId": "bac0f824-3784-400e-80f9-ad18d46bd8cb",
              "text": "Smoking status",
              "type": "choice",
              "repeats": false,
              "answerOption": [
                {
                  "valueCoding": {
                    "code": "266919005",
                    "system": "http://snomed.info/sct",
                    "display": "Never smoked"
                  }
                },
                {
                  "valueCoding": {
                    "code": "77176002",
                    "system": "http://snomed.info/sct",
                    "display": "Smoker"
                  }
                },
                {
                  "valueCoding": {
                    "code": "8517006",
                    "system": "http://snomed.info/sct",
                    "display": "Ex-Smoker"
                  }
                },
                {
                  "valueCoding": {
                    "code": "16090371000119103",
                    "system": "http://snomed.info/sct",
                    "display": "Environmental exposure to tobacco smoke (home, car, etc)"
                  }
                },
                {
                  "valueString": "Wants to quit"
                },
                {
                  "valueString": "Other tobacco use"
                }
              ]
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "code": "grid",
                        "system": "http://hl7.org/fhir/questionnaire-item-control",
                        "version": "1.0.0"
                      }
                    ]
                  }
                }
              ],
              "item": [
                {
                  "item": [
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                          "valueExpression": {
                            "language": "text/fhirpath",
                            "expression": "%ObsBloodPressure.entry.resource.component.where(code.coding.where(code='8480-6')).value.value"
                          }
                        },
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                          "valueCoding": {
                            "code": "mm[Hg]",
                            "system": "http://unitsofmeasure.org"
                          }
                        }
                      ],
                      "item": [
                        {
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                              "valueCodeableConcept": {
                                "coding": [
                                  {
                                    "code": "unit",
                                    "system": "http://hl7.org/fhir/questionnaire-item-control"
                                  }
                                ]
                              }
                            }
                          ],
                          "linkId": "ddea5a62-a8c1-4b15-b667-7b69babec8cd",
                          "text": "mm Hg",
                          "type": "display"
                        }
                      ],
                      "linkId": "818ce640-c8dd-457d-b607-3aaa8da38524",
                      "text": "Value",
                      "type": "integer",
                      "repeats": false
                    },
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                          "valueExpression": {
                            "language": "text/fhirpath",
                            "expression": "%ObsBloodPressure.entry.resource.effective"
                          }
                        }
                      ],
                      "linkId": "85d8faf7-ddb0-446c-b489-28d786d6de50",
                      "text": "Date performed",
                      "type": "date",
                      "repeats": false
                    }
                  ],
                  "linkId": "fa4f73a3-7633-410c-9177-8aa43b117122",
                  "text": "Systolic Blood Pressure",
                  "type": "group",
                  "repeats": false
                },
                {
                  "item": [
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                          "valueExpression": {
                            "language": "text/fhirpath",
                            "expression": "%ObsTotalCholesterol.entry.resource.value.value"
                          }
                        },
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                          "valueCoding": {
                            "code": "mmol/L",
                            "system": "http://unitsofmeasure.org"
                          }
                        }
                      ],
                      "item": [
                        {
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                              "valueCodeableConcept": {
                                "coding": [
                                  {
                                    "code": "unit",
                                    "system": "http://hl7.org/fhir/questionnaire-item-control"
                                  }
                                ]
                              }
                            }
                          ],
                          "linkId": "fcfbfc9f-e400-4aae-993f-ea54096e7361",
                          "text": "mmol/L",
                          "type": "display"
                        }
                      ],
                      "linkId": "99932a93-8135-47b2-933b-fd751b34b7af",
                      "text": "Value",
                      "type": "decimal",
                      "repeats": false
                    },
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                          "valueExpression": {
                            "language": "text/fhirpath",
                            "expression": "%ObsTotalCholesterol.entry.resource.effective"
                          }
                        }
                      ],
                      "linkId": "16cbe87b-5c8d-4385-b7d9-da3f07f63f8a",
                      "text": "Date performed",
                      "type": "date",
                      "repeats": false
                    }
                  ],
                  "linkId": "e693c7d2-be69-4f1f-b72d-7ff2ea3cd536",
                  "text": "Total Cholesterol",
                  "type": "group",
                  "repeats": false
                },
                {
                  "item": [
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                          "valueExpression": {
                            "language": "text/fhirpath",
                            "expression": "%ObsHDLCholesterol.entry.resource.value.value"
                          }
                        },
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                          "valueCoding": {
                            "code": "mmol/L",
                            "system": "http://unitsofmeasure.org"
                          }
                        }
                      ],
                      "item": [
                        {
                          "extension": [
                            {
                              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                              "valueCodeableConcept": {
                                "coding": [
                                  {
                                    "code": "unit",
                                    "system": "http://hl7.org/fhir/questionnaire-item-control"
                                  }
                                ]
                              }
                            }
                          ],
                          "linkId": "2ba61002-b642-4b28-9e66-dc2b060c4e0e",
                          "text": "mmol/L",
                          "type": "display"
                        }
                      ],
                      "linkId": "c14b4513-1e20-461d-97f4-4631711adc65",
                      "text": "Value",
                      "type": "decimal",
                      "repeats": false
                    },
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                          "valueExpression": {
                            "language": "text/fhirpath",
                            "expression": "%ObsHDLCholesterol.entry.resource.effective"
                          }
                        }
                      ],
                      "linkId": "6407e0a7-c416-4a75-933b-904c0dcf88ca",
                      "text": "Date performed",
                      "type": "date",
                      "repeats": false
                    }
                  ],
                  "linkId": "87eefaf6-010f-4b0d-9f51-2c33e46e6c69",
                  "text": "HDL Cholesterol",
                  "type": "group",
                  "repeats": false
                }
              ],
              "linkId": "fe9feec6-593a-4106-8a7d-f9965a632ea2",
              "type": "group",
              "repeats": false
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                  "valueExpression": {
                    "description": "CVD Risk Postcode",
                    "language": "text/fhirpath",
                    "expression": "%postcode"
                  }
                }
              ],
              "linkId": "fa8f03ca-9a5a-4ed1-a866-db26e567352a",
              "text": "Postcode",
              "type": "string"
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                  "valueExpression": {
                    "language": "text/fhirpath",
                    "expression": "%Condition.entry.resource.code.coding.where(system='http://snomed.info/sct' and code='44054006').exists()"
                  }
                }
              ],
              "linkId": "1c1eea28-6c82-4b7b-aaa3-8655ce70f2fd",
              "text": "Type 2 diabetes mellitus",
              "type": "boolean",
              "repeats": false
            }
          ],
          "linkId": "8d02ef36-3f48-4912-b001-e9fec6aa7101",
          "text": "CVD risk calculator variables",
          "type": "group",
          "repeats": false,
          "readOnly": true
        },
        {
          "linkId": "4c52fcec-0695-4916-b185-24a5c2711631",
          "text": "Cardiovascular disease risk calculated result",
          "type": "integer",
          "repeats": false
        },
        {
          "linkId": "f8022f3f-21fe-42c0-8abd-95f24e2e37e5",
          "text": "Health priorities, actions and follow-up",
          "type": "text",
          "repeats": false
        },
        {
          "linkId": "MarkComplete-2",
          "text": "Mark section as complete",
          "_text": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
                "valueString": "<div xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n    <style type=\"text/css\">\r\n        .alert {\r\n            padding: 0.875rem;\r\n            margin-bottom: 1rem;\r\n            font-size: 0.875rem;\r\n            color: #2E7D32;\r\n            border-radius: 0.5rem;\r\n            background-color: #d5e5d6;\r\n            font-weight: 700;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<div class=\"alert\">Mark section as complete</div>\r\n</body>\r\n</div>"
              }
            ]
          },
          "type": "boolean",
          "repeats": false
        }
      ],
      "linkId": "d95abe99-8ef2-4b97-bc88-a2901e2ebc9c",
      "text": "Absolute cardiovascular risk calculation",
      "type": "group",
      "repeats": false
    }
  ],
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation",
      "valueCode": "assemble-child"
    },
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext",
      "extension": [
        {
          "url": "name",
          "valueCoding": {
            "code": "patient",
            "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext"
          }
        },
        {
          "url": "type",
          "valueCode": "Patient"
        },
        {
          "url": "description",
          "valueString": "The patient that is to be used to pre-populate the form"
        }
      ]
    },
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext",
      "extension": [
        {
          "url": "name",
          "valueCoding": {
            "code": "user",
            "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext"
          }
        },
        {
          "url": "type",
          "valueCode": "Practitioner"
        },
        {
          "url": "description",
          "valueString": "The practitioner user that is to be used to pre-populate the form"
        }
      ]
    }
  ],
  "name": "AbsoluteCVDRiskCalculation",
  "status": "draft",
  "experimental": false,
  "subjectType": [
    "Patient"
  ],
  "date": "2022-05-24",
  "jurisdiction": [
    {
      "coding": [
        {
          "code": "AU",
          "system": "urn:iso:std:iso:3166"
        }
      ]
    }
  ]
}

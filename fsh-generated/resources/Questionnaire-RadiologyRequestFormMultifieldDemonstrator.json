{
  "resourceType": "Questionnaire",
  "id": "RadiologyRequestFormMultifieldDemonstrator",
  "meta": {
    "profile": [
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-render",
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-pop-exp"
    ]
  },
  "url": "https://smartforms.csiro.au/ig/Questionnaire/RadiologyRequestFormMultifieldDemonstrator",
  "title": "Radiology Request Form (multifield demonstrator)",
  "description": "Radiology Request Form (multifield demonstrator)",
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext",
      "extension": [
        {
          "url": "name",
          "valueCoding": {
            "code": "patient",
            "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext"
          }
        },
        {
          "url": "type",
          "valueCode": "Patient"
        },
        {
          "url": "description",
          "valueString": "The patient that is to be used to pre-populate the form"
        }
      ]
    },
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext",
      "extension": [
        {
          "url": "name",
          "valueCoding": {
            "code": "user",
            "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext"
          }
        },
        {
          "url": "type",
          "valueCode": "Practitioner"
        },
        {
          "url": "description",
          "valueString": "The practitioner user that is to be used to pre-populate the form"
        }
      ]
    },
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext",
      "extension": [
        {
          "url": "name",
          "valueCoding": {
            "code": "encounter",
            "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext"
          }
        },
        {
          "url": "type",
          "valueCode": "Encounter"
        },
        {
          "url": "description",
          "valueString": "The encounter that is to be used to pre-populate the form"
        }
      ]
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/variable",
      "valueExpression": {
        "name": "PractitionerRole",
        "language": "application/x-fhir-query",
        "expression": "PractitionerRole?practitioner={{%user.id}}"
      }
    }
  ],
  "name": "RadiologyRequestMultifieldDemonstrator",
  "status": "draft",
  "experimental": true,
  "subjectType": [
    "Patient"
  ],
  "date": "2024-09-03",
  "jurisdiction": [
    {
      "coding": [
        {
          "code": "AU",
          "system": "urn:iso:std:iso:3166"
        }
      ]
    }
  ],
  "item": [
    {
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemPopulationContext",
          "valueExpression": {
            "name": "PractitionerRoleRepeat",
            "language": "text/fhirpath",
            "expression": "%PractitionerRole.entry.resource"
          }
        }
      ],
      "linkId": "radiology-order",
      "text": "Order details",
      "type": "group",
      "repeats": false,
      "required": true,
      "item": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "now().toString()"
              }
            }
          ],
          "linkId": "radiology-order-number",
          "text": "Order number",
          "type": "string",
          "repeats": false,
          "required": true
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "'PractitionerRole/' + %PractitionerRoleRepeat.id"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
              "valueBoolean": true
            }
          ],
          "linkId": "radiology-order-requesterreference",
          "text": "Requester reference",
          "type": "string",
          "repeats": false
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "%PractitionerRoleRepeat.identifier.where(system='http://ns.electronichealth.net.au/id/medicare-provider-number').value"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
              "valueBoolean": true
            }
          ],
          "linkId": "radiology-order-requesterdisplay",
          "text": "Requester display",
          "type": "string",
          "repeats": false
        }
      ]
    },
    {
      "linkId": "radiology-service",
      "text": "Service details",
      "type": "group",
      "repeats": true,
      "required": true,
      "item": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "procedureFocus",
                "language": "text/fhirpath",
                "expression": "item.repeat(item).where(linkId='radiology-service-examination-components-modality').answer.value"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "procedureFocusCode",
                "language": "text/fhirpath",
                "expression": "%procedureFocus.code"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "procedureFocusDisplay",
                "language": "text/fhirpath",
                "expression": "%procedureFocus.display"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySite",
                "language": "text/fhirpath",
                "expression": "item.repeat(item).where(linkId='radiology-service-examination-components-bodysite').answer.value"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySiteCode",
                "language": "text/fhirpath",
                "expression": "%bodySite.code"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySiteDisplay",
                "language": "text/fhirpath",
                "expression": "%bodySite.display"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "laterality",
                "language": "text/fhirpath",
                "expression": "item.repeat(item).where(linkId='radiology-service-examination-components-laterality').answer.value"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "lateralityCode",
                "language": "text/fhirpath",
                "expression": "%laterality.code"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "lateralityDisplay",
                "language": "text/fhirpath",
                "expression": "%laterality.display"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "contrast",
                "language": "text/fhirpath",
                "expression": "item.repeat(item).where(linkId='radiology-service-examination-components-contrast').answer.value"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "contrastCode",
                "language": "text/fhirpath",
                "expression": "%contrast.code"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "contrastDisplay",
                "language": "text/fhirpath",
                "expression": "%contrast.display"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "lateralityEnabled",
                "language": "text/fhirpath",
                "expression": "iif(%bodySiteCode.exists(), %bodySiteCode.memberOf('http://snomed.info/sct?fhir_vs=refset/723264001'), false )"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySiteDependency",
                "language": "text/fhirpath",
                "expression": "iif(%bodySiteCode.exists(), 'dependency.element=BodySite&dependency.concept.coding.system=http://snomed.info/sct&dependency.concept.coding.code=' + %bodySiteCode + '&', 'dependency.element=BodySite&dependency.concept.coding.system=http://terminology.hl7.org/CodeSystem/data-absent-reason&dependency.concept.coding.code=unknown&')"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "lateralityDependency",
                "language": "text/fhirpath",
                "expression": "iif(%lateralityCode.exists(), 'dependency.element=Laterality&dependency.concept.coding.system=http://snomed.info/sct&dependency.concept.coding.code=' + %lateralityCode + '&', 'dependency.element=Laterality&dependency.concept.coding.system=http://terminology.hl7.org/CodeSystem/data-absent-reason&dependency.concept.coding.code=unknown&')"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "contrastDependency",
                "language": "text/fhirpath",
                "expression": "iif(%contrastCode.empty() and %procedureFocusCode='27483000', 'dependency.element=Contrast&dependency.concept.coding.system=http://snomed.info/sct&dependency.concept.coding.code=373066001&', iif(%contrastCode.exists() and %procedureFocusCode!='27483000', 'dependency.element=Contrast&dependency.concept.coding.system=http://snomed.info/sct&dependency.concept.coding.code=' + %contrastCode + '&', 'dependency.element=Contrast&dependency.concept.coding.system=http://terminology.hl7.org/CodeSystem/data-absent-reason&dependency.concept.coding.code=unknown&'))"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "translateAdditionalParams",
                "language": "text/fhirpath",
                "expression": "%bodySiteDependency+%lateralityDependency+%contrastDependency"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "procedureRequest",
                "language": "text/fhirpath",
                "expression": "iif(%procedureFocus.exists(), %terminologies.translate('http://erequestingexample.org.au/fhir/ConceptMap/radiology-services-map-1', %procedureFocus, %translateAdditionalParams).parameter.where(exists(name='match' and part.where(exists(name='equivalence' and value='equivalent')))).part.where(name='concept').value, {})"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesXray",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-X-ray').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesPlainXray",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-Plain-X-Ray').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesUS",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-Ultrasound-imaging').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesDiagRadContrast",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-X-ray-with-contrast').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesAngio",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-Angiography').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesFluoro",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-Fluoroscopy').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesCT",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-CT').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesMRI",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-MRI').expansion.contains"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "bodySitesAll",
                "language": "text/fhirpath",
                "expression": "%terminologies.expand('http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-1').expansion.contains"
              }
            }
          ],
          "linkId": "radiology-service-examination",
          "text": "Examination",
          "type": "group",
          "repeats": false,
          "required": true,
          "item": [
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/variable",
                  "valueExpression": {
                    "name": "bodySiteOptions",
                    "language": "text/fhirpath",
                    "expression": "iif(%procedureFocusCode='363680008', %bodySitesXray, iif(%procedureFocusCode='168537006', %bodySitesPlainXray, iif(%procedureFocusCode='16310003', %bodySitesUS, iif(%procedureFocusCode='27483000', %bodySitesDiagRadContrast, iif(%procedureFocusCode='77343006', %bodySitesAngio, iif(%procedureFocusCode='44491008', %bodySitesFluoro,  iif(%procedureFocusCode='77477000', %bodySitesCT, iif(%procedureFocusCode='113091000', %bodySitesMRI, %bodySitesAll))))))))"
                  }
                }
              ],
              "linkId": "radiology-service-examination-components",
              "text": "Procedure components",
              "type": "group",
              "repeats": false,
              "required": false,
              "item": [
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "drop-down",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-components-modality",
                  "text": "Procedure focus",
                  "type": "choice",
                  "repeats": false,
                  "required": true,
                  "answerValueSet": "http://erequestingexample.org.au/fhir/ValueSet/radiology-procedure-1"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "drop-down",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                      "valueExpression": {
                        "language": "text/fhirpath",
                        "expression": "%procedureFocus.empty()"
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-components-bodysite-all",
                  "text": "Body site",
                  "type": "choice",
                  "repeats": false,
                  "readOnly": true,
                  "answerValueSet": "http://erequestingexample.org.au/fhir/ValueSet/radiology-body-structure-1",
                  "item": [
                    {
                      "extension": [
                        {
                          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
                          "valueCodeableConcept": {
                            "coding": [
                              {
                                "code": "instructions",
                                "system": "http://hl7.org/fhir/questionnaire-display-category"
                              }
                            ]
                          }
                        }
                      ],
                      "linkId": "radiology-service-examination-components-bodysite-all-instructions",
                      "text": "Select procedure focus",
                      "type": "display"
                    }
                  ]
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "drop-down",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                      "valueExpression": {
                        "language": "text/fhirpath",
                        "expression": "%procedureFocus.exists()"
                      }
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-answerExpression",
                      "valueExpression": {
                        "language": "text/fhirpath",
                        "expression": "%bodySiteOptions"
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-components-bodysite",
                  "text": "Body site",
                  "type": "choice",
                  "repeats": false
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "radio-button",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                      "valueExpression": {
                        "language": "text/fhirpath",
                        "expression": "%lateralityEnabled"
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-components-laterality",
                  "text": "Laterality",
                  "type": "choice",
                  "repeats": false,
                  "answerValueSet": "http://erequestingexample.org.au/fhir/ValueSet/radiology-laterality-1"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "radio-button",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                      "valueExpression": {
                        "language": "text/fhirpath",
                        "expression": "%procedureFocusCode!='27483000' or %procedureFocusCode.empty()"
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-components-contrast",
                  "text": "Contrast",
                  "type": "choice",
                  "repeats": false,
                  "answerValueSet": "http://erequestingexample.org.au/fhir/ValueSet/radiology-contrast-1"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "radio-button",
                            "system": "http://hl7.org/fhir/questionnaire-item-control"
                          }
                        ]
                      }
                    },
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                      "valueExpression": {
                        "language": "text/fhirpath",
                        "expression": "%procedureFocusCode='27483000'"
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-components-contrast-yes",
                  "text": "Contrast",
                  "type": "choice",
                  "repeats": false,
                  "readOnly": true,
                  "answerOption": [
                    {
                      "valueCoding": {
                        "code": "373066001",
                        "system": "http://snomed.info/sct"
                      },
                      "initialSelected": true
                    },
                    {
                      "valueCoding": {
                        "code": "373067005",
                        "system": "http://snomed.info/sct"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "code": "autocomplete",
                        "system": "http://hl7.org/fhir/questionnaire-item-control"
                      }
                    ]
                  }
                },
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                  "valueExpression": {
                    "language": "text/fhirpath",
                    "expression": "%procedureFocus.empty()"
                  }
                }
              ],
              "linkId": "radiology-service-examination-procedure-all",
              "text": "Procedure for request",
              "type": "open-choice",
              "repeats": false,
              "required": false,
              "answerValueSet": "http://erequestingexample.org.au/fhir/ValueSet/radiology-services-1"
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "code": "radio-button",
                        "system": "http://hl7.org/fhir/questionnaire-item-control"
                      }
                    ]
                  }
                },
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                  "valueExpression": {
                    "language": "text/fhirpath",
                    "expression": "%procedureFocus.exists() and %procedureRequest.exists()"
                  }
                },
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-answerExpression",
                  "valueExpression": {
                    "language": "text/fhirpath",
                    "expression": "%procedureRequest"
                  }
                }
              ],
              "linkId": "radiology-service-examination-procedure",
              "text": "Procedure for request",
              "type": "choice",
              "repeats": false,
              "required": false
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                  "valueExpression": {
                    "language": "text/fhirpath",
                    "expression": "%procedureFocus.exists() and %procedureRequest.empty()"
                  }
                },
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                  "valueExpression": {
                    "language": "text/fhirpath",
                    "expression": "(%procedureFocusDisplay)&(iif(%bodySiteDisplay.exists(), ', '&%bodySiteDisplay, ''))&(iif(%lateralityDisplay.exists(), ' ('&%lateralityDisplay&')', ''))&(iif(%contrastCode='373066001', ', with contrast', iif(%contrastCode='373067005', ', without contrast', '')))"
                  }
                }
              ],
              "linkId": "radiology-service-examination-procedure-text",
              "text": "Procedure for request",
              "type": "text",
              "repeats": false,
              "required": false,
              "item": [
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "code": "instructions",
                            "system": "http://hl7.org/fhir/questionnaire-display-category"
                          }
                        ]
                      }
                    }
                  ],
                  "linkId": "radiology-service-examination-procedure-text-instructions",
                  "text": "No matching catalogue request item. This is free text.",
                  "type": "display"
                }
              ]
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "code": "drop-down",
                        "system": "http://hl7.org/fhir/questionnaire-item-control"
                      }
                    ]
                  }
                }
              ],
              "linkId": "radiology-service-examination-priority",
              "text": "Urgency",
              "type": "choice",
              "repeats": false,
              "answerOption": [
                {
                  "valueCoding": {
                    "code": "stat",
                    "system": "http://hl7.org/fhir/request-priority",
                    "version": "4.0.1",
                    "display": "Emergency"
                  }
                },
                {
                  "valueCoding": {
                    "code": "urgent",
                    "system": "http://hl7.org/fhir/request-priority",
                    "version": "4.0.1",
                    "display": "Urgent"
                  }
                },
                {
                  "valueCoding": {
                    "code": "routine",
                    "system": "http://hl7.org/fhir/request-priority",
                    "version": "4.0.1",
                    "display": "Routine"
                  }
                }
              ]
            },
            {
              "linkId": "radiology-service-examination-timing",
              "text": "Service due",
              "type": "dateTime",
              "repeats": false
            }
          ]
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "code": "autocomplete",
                    "system": "http://hl7.org/fhir/questionnaire-item-control"
                  }
                ]
              }
            }
          ],
          "linkId": "radiology-service-clinicalindication",
          "text": "Clinical indication",
          "type": "open-choice",
          "repeats": true,
          "answerValueSet": "https://healthterminologies.gov.au/fhir/ValueSet/reason-for-request-1"
        },
        {
          "linkId": "radiology-service-clinicalnotes",
          "text": "Clinical context",
          "type": "text",
          "repeats": false
        },
        {
          "linkId": "radiology-service-comment",
          "text": "Comment",
          "type": "text",
          "repeats": false
        }
      ]
    }
  ]
}
